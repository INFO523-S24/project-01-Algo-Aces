---
title: "Project title"
subtitle: "INFO 523 - Project 1"
author: "Team name"
format: html
editor: visual
jupyter: python3
---

## Abstract

Add project abstract here.



```{python}
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# Load the dataset
df = pd.read_csv("data/fastfood_calories.csv")

# Group by restaurant and calculate the median calories per visit
median_calories_per_visit = df.groupby('restaurant')['calories'].median()

# Print summary statistics
summary_table = df.groupby('restaurant')['calories'].describe()

# Sort the DataFrame by restaurant names
df_sorted = df.sort_values(by='restaurant')

# Plot half violin plot
plt.figure(figsize=(12, 8))
violin = sns.violinplot(x='calories', y='restaurant', data=df_sorted, inner='quartile', cut=0, palette='husl')
plt.title('Distribution of Calories per Visit by Restaurant', fontweight='bold')
plt.xlabel('Calories', fontweight='bold')
plt.ylabel('Restaurant', fontweight='bold')

# Create legend using violinplot handles
plt.legend(title='Median Calories', handles=violin.collections, labels=[f"{int(median_calories)} calories" 
                                                                         for median_calories in median_calories_per_visit],
           loc='upper left', bbox_to_anchor=(1, 1), prop={'weight': 'bold'})

plt.show()

print("Summary Table:")
print(summary_table)

```

```{python}
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# Load the dataset into a DataFrame
calories_df = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-09-04/fastfood_calories.csv')

# Calculate median calories for each restaurant
median_calories = calories_df.groupby('restaurant')['calories'].median().reset_index()

# Set the color palette
colors = sns.color_palette("husl", len(median_calories['restaurant']))

# Set the figure size
plt.figure(figsize=(10, 6))

# Create the line plot with inverted triangles and white background
for i, restaurant in enumerate(median_calories['restaurant']):
    plt.plot(restaurant, median_calories.loc[i, 'calories'], marker='v', markersize=12, color=colors[i], label=restaurant)
    plt.text(restaurant, median_calories.loc[i, 'calories'] - 15, f"{median_calories.loc[i, 'calories']:.0f}", ha='center', fontsize=10, color='black')

# Add title and labels
plt.title('Average Calories per visit to a Restaurant', fontsize=16)
plt.xlabel('Restaurant', fontsize=14)
plt.ylabel('Average Calories per visit', fontsize=14)

# Rotate x-axis labels for better readability (optional)
plt.xticks(rotation=45, ha='right')

# Set y-axis limit
plt.ylim(350, 650)

# Set y-axis ticks with step 50
plt.yticks(range(350, 651, 50))

# Remove gridlines
plt.grid(False)


```


```{python}
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# Load the dataset into a DataFrame
calories_df = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-09-04/fastfood_calories.csv')

# Define calorie-per-gram values for fat and protein
calories_per_gram_fat = 9  # Fat provides 9 calories per gram
calories_per_gram_protein = 4  # Protein provides 4 calories per gram

# Calculate calories from protein and fat
calories_df['cal_protein'] = calories_df['protein'] * calories_per_gram_protein
calories_df['cal_fat'] = calories_df['total_fat'] * calories_per_gram_fat

# Calculate total calories
calories_df['total_calories'] = calories_df['cal_protein'] + calories_df['cal_fat']

# Calculate Protein_fat_ratio
calories_df['Protein_fat_ratio'] = calories_df['cal_protein'] / calories_df['total_calories']

# Calculate Q2 (median) for each restaurant
median_protein_fat_ratio = calories_df.groupby('restaurant')['Protein_fat_ratio'].median().reset_index()

# Set custom color palette
colors = sns.color_palette("husl", n_colors=len(median_protein_fat_ratio))

# Create a half violin plot to visualize the median Protein_fat_ratio for each restaurant
plt.figure(figsize=(12, 8))
sns.violinplot(x='Protein_fat_ratio', y='restaurant', data=calories_df, inner='quartile', linewidth=1.5, cut=0, split=True, palette=colors)

# Add Q2 values (medians) to the plot without labels
for i in range(len(median_protein_fat_ratio)):
    plt.text(median_protein_fat_ratio['Protein_fat_ratio'][i], i, f"{median_protein_fat_ratio['Protein_fat_ratio'][i]:.2f}", fontsize=10, va='center', ha='right', color='black')

# Add title and labels
plt.title('Protein-Fat Ratio by Restaurant', fontsize=16)
plt.xlabel('Protein-Fat Ratio', fontsize=14)
plt.ylabel('Restaurant', fontsize=14)

# Customize y-axis labels
plt.yticks(fontsize=12)

# Show the plot
plt.grid(True, linestyle='--', alpha=0.7)
plt.tight_layout()
plt.show()

```
